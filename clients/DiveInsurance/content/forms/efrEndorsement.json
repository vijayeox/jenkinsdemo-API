{
	"_id": "5e10850284a78679f7880537",
	"type": "form",
	"tags": [],
	"owner": "5db28b688d7586b574a8f4f6",
	"components": [{
		"title": "Endorsement Change",
		"theme": "primary",
		"collapsible": false,
		"tableView": false,
		"key": "page1",
		"type": "panel",
		"label": "Endorsement Change",
		"components": [{
			"label": "Please select areas you want to modify",
			"optionsLabelPosition": "right",
			"autofocus": true,
			"tableView": true,
			"defaultValue": {
				"modify_personalInformation": false,
				"modify_coverage": false,
				"modify_additionalInsured": false,
				"cancelAndUpgrade": false,
				"personalInformation": false
			},
			"values": [{
				"value": "modify_personalInformation",
				"label": "Personal Information",
				"shortcut": ""
			}, {
				"value": "modify_coverage",
				"label": "Coverage",
				"shortcut": ""
			}, {
				"value": "modify_additionalInsured",
				"label": "Additional Insured",
				"shortcut": ""
			}],
			"validate": {
				"required": true,
				"customMessage": "Select select an Endorsement Option to proceed"
			},
			"errorLabel": "Endorsement Options",
			"key": "endorsement_options",
			"properties": {
				"render": "page6"
			},
			"type": "selectboxes",
			"input": true,
			"lockKey": true,
			"inputType": "checkbox"
		}, {
			"label": "HTML",
			"attrs": [{
				"attr": "style",
				"value": "color: #a94442;font-size:1.1em;"
			}],
			"content": "Please Note: These options will be disabled once you click on the next button",
			"refreshOnChange": false,
			"tableView": false,
			"key": "html",
			"type": "htmlelement",
			"input": false
		}, {
			"label": "disableOptions",
			"customDefaultValue": "value = false;",
			"key": "disableOptions",
			"type": "hidden",
			"input": true,
			"tableView": false
		}, {
			"label": "initiatedByCsr",
			"customDefaultValue": "if((data.privileges['MANAGE_POLICY_APPROVAL_WRITE'] !== null && data.privileges['MANAGE_POLICY_APPROVAL_WRITE'])){\n  value = \"true\";\n} else {\n  value =\"false\";\n}",
			"key": "initiatedByCsr",
			"type": "hidden",
			"input": true,
			"tableView": false,
			"hideOnChildrenHidden": false
		}, {
			"label": "previousPolicyLength",
			"calculateValue": "if(data['previous_policy_data']){\n  value = data['previous_policy_data'].length - 1;\n}",
			"key": "previousPolicyLength",
			"type": "hidden",
			"input": true,
			"tableView": false
		}, {
			"label": "product",
			"defaultValue": "Emergency First Response",
			"key": "product",
			"type": "hidden",
			"input": true,
			"tableView": true,
			"lockKey": true,
			"hideOnChildrenHidden": false
		}, {
			"label": "Columns",
			"columns": [{
				"components": [{
					"label": "start_date",
					"key": "start_date",
					"properties": {
						"data_type": "Date"
					},
					"type": "hidden",
					"input": true,
					"tableView": false,
					"hideOnChildrenHidden": false
				}, {
					"label": "update_date",
					"key": "update_date",
					"properties": {
						"data_type": "Date"
					},
					"type": "hidden",
					"input": true,
					"tableView": false,
					"hideOnChildrenHidden": false
				}],
				"width": 6,
				"offset": 0,
				"push": 0,
				"pull": 0,
				"size": "md"
			}, {
				"components": [{
					"label": "autoRenewalJob",
					"key": "autoRenewalJob",
					"type": "hidden",
					"input": true,
					"tableView": false,
					"hideOnChildrenHidden": false
				}, {
					"label": "end_date",
					"key": "end_date",
					"properties": {
						"data_type": "Date"
					},
					"type": "hidden",
					"input": true,
					"tableView": true,
					"lockKey": true,
					"hideOnChildrenHidden": false
				}],
				"width": 6,
				"offset": 0,
				"push": 0,
				"pull": 0,
				"size": "md"
			}],
			"tableView": false,
			"key": "columns2",
			"type": "columns",
			"input": false,
			"path": "columns2"
		}, {
			"key": "page6Panel",
			"input": false,
			"title": "Automatic Renewal",
			"theme": "primary",
			"tableView": false,
			"components": [{
				"label": "Content",
				"attrs": [{
					"value": "",
					"attr": ""
				}],
				"content": "<h4><b>PADI  has made membership renewal simple.\nVicencia & Buckley is making AUTOMATIC RENEWAL for Professional Liability Insurance a reality!</b></h4>",
				"refreshOnChange": false,
				"tableView": false,
				"key": "page6PanelContent",
				"type": "htmlelement",
				"input": false,
				"hideLabel": true
			}, {
				"label": "YES!  Sign me up for AUTOMATIC RENEWAL.",
				"tableView": true,
				"defaultValue": false,
				"key": "automatic_renewal",
				"type": "checkbox",
				"input": true,
				"dataGridLabel": false,
				"lockKey": true
			}],
			"type": "panel",
			"label": "Panel",
			"path": "page6Panel"
		}],
		"input": false,
		"path": "page1",
		"properties": {
			"set_property": "{\"property\" : \"disableOptions\",\"value\":true}"
		},
		"breadcrumbClickable": true,
		"buttonSettings": {
			"previous": true,
			"cancel": true,
			"next": true
		},
		"logic": [{
			"name": "disablePanel",
			"trigger": {
				"type": "simple",
				"simple": {
					"show": true,
					"when": "disableOptions",
					"eq": "true"
				}
			},
			"actions": [{
				"name": "disable",
				"type": "property",
				"property": {
					"label": "Disabled",
					"value": "disabled",
					"type": "boolean"
				},
				"state": true
			}]
		}]
	}, {
		"key": "panel",
		"input": false,
		"title": "Personal Information",
		"theme": "primary",
		"tableView": false,
		"components": [{
			"title": "PADI Validation",
			"theme": "primary",
			"breadcrumbClickable": true,
			"buttonSettings": {
				"previous": true,
				"cancel": true,
				"next": true
			},
			"collapsible": false,
			"tableView": false,
			"key": "panelPanel2",
			"type": "panel",
			"label": "Padi Validation",
			"input": false,
			"components": [{
				"label": "Columns",
				"input": false,
				"tableView": false,
				"key": "panelColumns3",
				"columns": [{
					"components": [],
					"width": 4,
					"offset": 0,
					"push": 0,
					"pull": 0,
					"size": "md"
				}, {
					"components": [{
						"label": "PADI Number",
						"autofocus": true,
						"disabled": true,
						"tableView": false,
						"clearOnHide": false,
						"validate": {
							"required": true,
							"pattern": "[0-9\\s-]*$",
							"customMessage": "Max Length is 6",
							"max": null,
							"step": "any"
						},
						"key": "padi",
						"type": "textfield",
						"delimiter": false,
						"requireDecimal": false,
						"decimalLimit": 0,
						"input": true,
						"customError": "Cannot set property 'maxLength' of null",
						"lockKey": true,
						"hideOnChildrenHidden": false
					}],
					"width": 4,
					"offset": 0,
					"push": 0,
					"pull": 0,
					"size": "md"
				}, {
					"components": [],
					"width": 4,
					"offset": 0,
					"push": 0,
					"pull": 0,
					"size": "md"
				}],
				"type": "columns",
				"hideLabel": true
			}]
		}, {
			"title": "Personal Information",
			"theme": "primary",
			"breadcrumbClickable": true,
			"buttonSettings": {
				"previous": true,
				"cancel": true,
				"next": true
			},
			"collapsible": false,
			"tableView": false,
			"key": "panelPanel4",
			"type": "panel",
			"label": "Personal Information",
			"input": false,
			"components": [{
				"label": "Columns",
				"input": false,
				"tableView": false,
				"key": "panelPanel4Columns",
				"columns": [{
					"components": [{
						"label": "First Name",
						"spellcheck": false,
						"disabled": true,
						"tableView": false,
						"validate": {
							"customMessage": "Please enter your first name."
						},
						"key": "firstname",
						"conditional": {
							"show": true,
							"when": "html"
						},
						"type": "textfield",
						"input": true,
						"lockKey": true,
						"hideOnChildrenHidden": false
					}],
					"width": 4,
					"offset": 0,
					"push": 0,
					"pull": 0,
					"size": "md"
				}, {
					"components": [{
						"label": "Initial",
						"spellcheck": false,
						"disabled": true,
						"tableView": false,
						"clearOnHide": false,
						"validate": {
							"customMessage": "Please enter your initial."
						},
						"key": "initial",
						"conditional": {
							"show": true,
							"when": "html"
						},
						"type": "textfield",
						"input": true,
						"lockKey": true,
						"hideOnChildrenHidden": false
					}],
					"width": 4,
					"offset": 0,
					"push": 0,
					"pull": 0,
					"size": "md"
				}, {
					"components": [{
						"label": "Last Name`",
						"spellcheck": false,
						"disabled": true,
						"tableView": false,
						"clearOnHide": false,
						"validate": {
							"customMessage": "Please enter your last name."
						},
						"key": "lastname",
						"conditional": {
							"show": true,
							"when": "html"
						},
						"type": "textfield",
						"input": true,
						"lockKey": true,
						"hideOnChildrenHidden": false
					}],
					"width": 4,
					"offset": 0,
					"push": 0,
					"pull": 0,
					"size": "md"
				}],
				"type": "columns",
				"hideLabel": true
			}, {
				"label": "name",
				"calculateValue": "value = data.firstname + \" \" + data.lastname",
				"key": "name",
				"type": "hidden",
				"input": true,
				"tableView": false
			}, {
				"title": "Mailing Address",
				"theme": "primary",
				"breadcrumbClickable": false,
				"buttonSettings": {
					"previous": false,
					"cancel": false,
					"next": false
				},
				"collapsible": false,
				"tableView": false,
				"key": "panelPanel",
				"type": "panel",
				"label": "Mailing Address",
				"input": false,
				"components": [{
					"label": "Columns",
					"input": false,
					"tableView": false,
					"key": "panelPanelColumns",
					"columns": [{
						"components": [{
							"label": "Country",
							"widget": "choicesjs",
							"tableView": true,
							"dataSrc": "custom",
							"data": {
								"values": [{
									"value": "",
									"label": ""
								}],
								"custom": "values = data['countryList'];"
							},
							"valueProperty": "country",
							"template": "<span>{{ item.country }}</span>",
							"selectThreshold": 0.3,
							"clearOnHide": false,
							"validate": {
								"required": true
							},
							"key": "country",
							"type": "select",
							"input": true,
							"lockKey": true,
							"source": "5d347da33e9be31e15d3b115",
							"hideOnChildrenHidden": false
						}],
						"width": 4,
						"offset": 0,
						"push": 0,
						"pull": 0,
						"size": "md"
					}, {
						"components": [{
							"label": "Address 1",
							"tableView": true,
							"validate": {
								"required": true
							},
							"key": "address1",
							"type": "textfield",
							"input": true,
							"lockKey": true,
							"hideOnChildrenHidden": false
						}],
						"width": 4,
						"offset": 0,
						"push": 0,
						"pull": 0,
						"size": "md"
					}, {
						"components": [{
							"label": "Address 2",
							"tableView": true,
							"validate": {
								"customMessage": "Please enter your mailing address."
							},
							"key": "address2",
							"type": "textfield",
							"input": true,
							"lockKey": true,
							"hideOnChildrenHidden": false
						}],
						"width": 4,
						"offset": 0,
						"push": 0,
						"pull": 0,
						"size": "md"
					}],
					"type": "columns",
					"hideLabel": true,
					"path": "panelPanelColumns"
				}, {
					"label": "Columns",
					"columns": [{
						"components": [{
							"label": "City",
							"tableView": true,
							"validate": {
								"required": true
							},
							"key": "city",
							"type": "textfield",
							"input": true,
							"lockKey": true,
							"hideOnChildrenHidden": false
						}],
						"width": 4,
						"offset": 0,
						"push": 0,
						"pull": 0,
						"size": "md"
					}, {
						"components": [{
							"label": "State",
							"widget": "choicesjs",
							"tableView": true,
							"dataSrc": "custom",
							"data": {
								"values": [{
									"label": "",
									"value": ""
								}],
								"custom": "try {\ncountrylist = JSON.parse(data['countryList']);\n} catch(e) {\ncountrylist = data['countryList'];\n}\nlet obj = countrylist.find(o => o.country === row['country']);\nif(obj){\nvalues = obj.states\n}"
							},
							"template": "<span>{{ item }}</span>",
							"refreshOn": "country",
							"clearOnRefresh": true,
							"selectThreshold": 0.3,
							"clearOnHide": false,
							"validate": {
								"required": true
							},
							"key": "state",
							"type": "select",
							"indexeddb": {
								"filter": {}
							},
							"input": true,
							"lockKey": true,
							"hideOnChildrenHidden": false,
							"isNew": false
						}],
						"width": 4,
						"offset": 0,
						"push": 0,
						"pull": 0,
						"size": "md"
					}, {
						"components": [{
							"label": "Zip Code",
							"spellcheck": false,
							"tableView": false,
							"validate": {
								"required": true,
								"custom": "if(data.zip && data.zip != ''){\n  if(data['zip'].length <= 12){\n      valid = (data['zip'].match(/^[0-9\\s-]*$/)) ?  true : 'Please enter a valid Zip Code for your region.';\n  }else{\n    valid = (data.zip.length > 12) ? 'Please enter a valid Zip Code for your region.' : true;\n  }\n}"
							},
							"key": "zip",
							"type": "textfield",
							"input": true,
							"lockKey": true,
							"hideOnChildrenHidden": false
						}],
						"size": "md",
						"width": 4,
						"offset": 0,
						"push": 0,
						"pull": 0
					}],
					"tableView": false,
					"key": "columns6",
					"type": "columns",
					"input": false
				}],
				"lockKey": true
			}, {
				"title": "Physical Address",
				"theme": "primary",
				"breadcrumbClickable": false,
				"buttonSettings": {
					"previous": false,
					"cancel": false,
					"next": false
				},
				"collapsible": false,
				"tableView": false,
				"key": "panelPanel3",
				"type": "panel",
				"label": "Physical Address",
				"input": false,
				"components": [{
					"label": "Same as mailing address",
					"tableView": true,
					"defaultValue": "true",
					"clearOnHide": false,
					"key": "sameasmailingaddress",
					"type": "checkbox",
					"input": true,
					"dataGridLabel": false,
					"lockKey": true
				}, {
					"label": "Columns",
					"columns": [{
						"components": [{
							"label": "Country",
							"widget": "choicesjs",
							"tableView": true,
							"dataSrc": "custom",
							"data": {
								"values": [{
									"value": "",
									"label": ""
								}],
								"custom": "values = data['countryList'];"
							},
							"valueProperty": "country",
							"dataType": "string",
							"template": "<span>{{ item.country }}</span>",
							"selectThreshold": 0.3,
							"clearOnHide": false,
							"validate": {
								"required": true
							},
							"key": "physical_country",
							"type": "select",
							"input": true,
							"lockKey": true,
							"hideOnChildrenHidden": false
						}],
						"width": 4,
						"offset": 0,
						"push": 0,
						"pull": 0,
						"size": "md"
					}, {
						"components": [{
							"label": " Address 1",
							"tableView": true,
							"validate": {
								"required": true
							},
							"key": "mailaddress1",
							"type": "textfield",
							"input": true,
							"lockKey": true,
							"hideOnChildrenHidden": false
						}],
						"width": 4,
						"offset": 0,
						"push": 0,
						"pull": 0,
						"size": "md"
					}, {
						"components": [{
							"label": " Address 2",
							"spellcheck": false,
							"tableView": false,
							"key": "mailaddress2",
							"type": "textfield",
							"input": true,
							"lockKey": true,
							"hideOnChildrenHidden": false
						}],
						"width": 4,
						"offset": 0,
						"push": 0,
						"pull": 0,
						"size": "md"
					}],
					"hideLabel": true,
					"tableView": false,
					"key": "panelPanel3Columns2",
					"conditional": {
						"show": true,
						"when": "sameasmailingaddress",
						"eq": "false"
					},
					"customConditional": "show = (data['sameasmailingaddress'] == false)",
					"type": "columns",
					"input": false,
					"lockKey": true,
					"path": "panelPanel3Columns2"
				}, {
					"label": "Columns",
					"columns": [{
						"components": [{
							"label": "City",
							"tableView": true,
							"validate": {
								"required": true
							},
							"key": "physical_city",
							"type": "textfield",
							"input": true,
							"lockKey": true,
							"hideOnChildrenHidden": false
						}],
						"width": 4,
						"offset": 0,
						"push": 0,
						"pull": 0,
						"size": "md"
					}, {
						"components": [{
							"label": "State",
							"widget": "choicesjs",
							"tableView": false,
							"dataSrc": "custom",
							"data": {
								"values": [{}],
								"custom": "let obj = data['countryList'].find(o => o.country === data.physical_country);\nif (obj) {\n  values = obj.states;\n}"
							},
							"template": "<span>{{ item }}</span>",
							"selectThreshold": 0.3,
							"clearOnHide": false,
							"validate": {
								"required": true
							},
							"key": "physical_state",
							"type": "select",
							"refreshOn": "physical_country",
							"input": true,
							"lockKey": true,
							"hideOnChildrenHidden": false,
							"clearOnRefresh": true
						}],
						"width": 4,
						"offset": 0,
						"push": 0,
						"pull": 0,
						"size": "md"
					}, {
						"components": [{
							"label": "Zip Code",
							"spellcheck": false,
							"tableView": true,
							"clearOnHide": false,
							"validate": {
								"required": true,
								"custom": "if(data['physical_zip'] && data['physical_zip'] != ''){\n  if(data['physical_zip'].length <= 12){\n      valid = (data['physical_zip'].match(/^[0-9\\s-]*$/)) ?  true : 'Please enter a valid Zip Code for your region.';\n  }else{\n    valid = (data['physical_zip'].length > 12) ? 'Please enter a valid Zip Code for your region.' : true;\n  }\n}"
							},
							"key": "physical_zip",
							"type": "textfield",
							"input": true,
							"lockKey": true,
							"hideOnChildrenHidden": false
						}],
						"size": "md",
						"width": 4,
						"offset": 0,
						"push": 0,
						"pull": 0
					}],
					"tableView": false,
					"key": "columns7",
					"conditional": {
						"show": true,
						"when": "sameasmailingaddress",
						"eq": "false"
					},
					"type": "columns",
					"input": false
				}],
				"path": "panelPanel3"
			}, {
				"label": "Columns",
				"input": false,
				"tableView": false,
				"key": "panelPanel3Columns",
				"columns": [{
					"components": [{
						"label": "Columns",
						"columns": [{
							"components": [{
								"label": "Country Code",
								"widget": "choicesjs",
								"tableView": true,
								"dataSrc": "custom",
								"data": {
									"values": [{
										"label": "",
										"value": ""
									}],
									"custom": "values = data['phoneList']"
								},
								"valueProperty": "dial_code",
								"dataType": "auto",
								"template": "<span>{{ item.dial_code }}</span>",
								"selectThreshold": 0.3,
								"calculateValue": "if(data.country && data['phoneList']){\nlet obj = data['phoneList'].find(o => o.name === data.country);\nif (obj) {\n  value = obj.dial_code;\n}\n}",
								"key": "home_country_code",
								"type": "select",
								"indexeddb": {
									"filter": {}
								},
								"input": true,
								"hideOnChildrenHidden": false
							}],
							"width": 3,
							"offset": 0,
							"push": 0,
							"pull": 0,
							"size": "md"
						}, {
							"components": [{
								"label": "Home or Work Phone",
								"tableView": false,
								"validate": {
									"pattern": "^\\d+$",
									"customMessage": "Please enter a valid Phone Number",
									"custom": "if(data.home_phone_number){\n  valid = (data.home_phone_number.toString().length > 15) ? 'Please enter a valid Home or Work Phone number' : true; \n}",
									"step": "any"
								},
								"key": "home_phone_number",
								"type": "textfield",
								"delimiter": false,
								"requireDecimal": false,
								"input": true,
								"hideOnChildrenHidden": false,
								"inputType": "tel"
							}, {
								"label": "home_phone",
								"calculateValue": "value = data.home_country_code + \"\"+ data.home_phone_number",
								"key": "home_phone",
								"type": "hidden",
								"input": true,
								"tableView": false,
								"hideOnChildrenHidden": false
							}],
							"width": 9,
							"offset": 0,
							"push": 0,
							"pull": 0,
							"size": "md"
						}],
						"tableView": false,
						"key": "columns3",
						"type": "columns",
						"input": false,
						"path": "columns3",
						"hideLabel": true
					}, {
						"label": "Columns",
						"columns": [{
							"components": [{
								"label": "Country Code",
								"widget": "choicesjs",
								"tableView": true,
								"dataSrc": "custom",
								"data": {
									"values": [{
										"label": "",
										"value": ""
									}],
									"custom": "values = data['phoneList']"
								},
								"valueProperty": "dial_code",
								"template": "<span>{{ item.dial_code }}</span>",
								"selectThreshold": 0.3,
								"calculateValue": "if(data.country && data['phoneList']){\n  let obj = data['phoneList'].find(o => o.name === data.country);\nif (obj) {\n  value = obj.dial_code;\n}\n}",
								"key": "phone_country_code",
								"type": "select",
								"indexeddb": {
									"filter": {}
								},
								"input": true,
								"hideOnChildrenHidden": false
							}],
							"width": 3,
							"offset": 0,
							"push": 0,
							"pull": 0,
							"size": "md"
						}, {
							"components": [{
								"label": "Mobile Phone",
								"tableView": false,
								"validate": {
									"required": true,
									"pattern": "^\\d+$",
									"customMessage": "Please enter a valid Mobile Phone number",
									"custom": "if(data.phone_number){\n  valid = (data.phone_number.toString().length > 15) ? 'Please enter a valid Home or Work Phone number' : true; \n}",
									"step": "any"
								},
								"key": "phone_number",
								"type": "textfield",
								"delimiter": false,
								"requireDecimal": false,
								"input": true,
								"hideOnChildrenHidden": false,
								"inputType": "tel"
							}, {
								"label": "mobile_phone",
								"calculateValue": "value = data.phone_country_code + \"\" + data.phone_number",
								"key": "phone",
								"type": "hidden",
								"input": true,
								"tableView": false,
								"hideOnChildrenHidden": false
							}],
							"width": 9,
							"offset": 0,
							"push": 0,
							"pull": 0,
							"size": "md"
						}],
						"tableView": false,
						"key": "columns4",
						"type": "columns",
						"input": false,
						"path": "columns4",
						"hideLabel": true
					}],
					"width": 6,
					"offset": 0,
					"push": 0,
					"pull": 0,
					"size": "md"
				}, {
					"components": [{
						"label": "Fax",
						"placeholder": " ",
						"tableView": true,
						"validate": {
							"customMessage": "Please enter a valid Fax number"
						},
						"errorLabel": "Fax",
						"key": "fax",
						"type": "phoneNumber",
						"input": true,
						"lockKey": true,
						"hideOnChildrenHidden": false
					}, {
						"label": "Email",
						"description": "Your certificate may be e-mailed to you from {{data.product_email_id}}. Please make sure you add this to your safe senders list",
						"spellcheck": false,
						"disabled": true,
						"tableView": false,
						"validate": {
							"required": true,
							"customMessage": "Please enter your email address in format: yourname@example.com"
						},
						"key": "email",
						"logic": [{
							"name": "DiableFieldEdit",
							"trigger": {
								"type": "javascript",
								"javascript": "if (data.disableUserInfoEdit === true || data.disableUserInfoEdit == \"true\") {\n    result = true;\n  } else {\n    result = false;\n  }"
							},
							"actions": [{
								"name": "DisableFieldEdit",
								"type": "property",
								"property": {
									"label": "Disabled",
									"value": "disabled",
									"type": "boolean"
								},
								"state": true
							}]
						}],
						"type": "email",
						"input": true,
						"lockKey": true,
						"hideOnChildrenHidden": false
					}, {
						"label": "Additional Email",
						"tableView": true,
						"multiple": true,
						"validate": {
							"customMessage": "Please enter your email address in format: yourname@example.com",
							"multiple": true
						},
						"key": "additional_email",
						"type": "email",
						"input": true,
						"lockKey": true,
						"hideOnChildrenHidden": false
					}],
					"width": 6,
					"offset": 0,
					"push": 0,
					"pull": 0,
					"size": "md"
				}],
				"type": "columns",
				"hideLabel": true,
				"path": "panelPanel3Columns"
			}],
			"lockKey": true,
			"source": "5d4ee6df800c612c49e802d3"
		}],
		"type": "panel",
		"conditional": {
			"show": "true",
			"when": "endorsement_options",
			"eq": "modify_personalInformation"
		},
		"label": "Panel",
		"path": "panel"
	}, {
		"title": "Coverage",
		"theme": "primary",
		"collapsible": false,
		"tableView": false,
		"key": "page3",
		"conditional": {
			"show": true,
			"when": "endorsement_options",
			"eq": "modify_coverage"
		},
		"type": "panel",
		"label": "Coverage",
		"components": [{
			"key": "pageNaNPanel",
			"input": false,
			"title": "Select Coverage",
			"theme": "primary",
			"tableView": false,
			"components": [{
				"label": "Pro Rata Premiums",
				"widget": "choicesjs",
				"disabled": true,
				"tableView": false,
				"dataSrc": "custom",
				"data": {
					"values": [{
						"label": "",
						"value": ""
					}],
					"custom": "var currentDate = moment()\ncurrentDate.date(1)\nvar presentMonth = moment().month()\nvar endYear = moment().year()+1\nvar endDate = moment()\nendDate.month('June')\nendDate.year(endYear)\nendDate.date(30)\nvar month = 3*(currentDate.quarter() - 1)\ncurrentDate.month(month)\nvar monthDifference = endDate.diff(currentDate,'months')+1\nvar quarterDiff = monthDifference/3\nfor(i = 0;i < quarterDiff;i++){\n\tvar monthName = moment().month(i).format('MMMM');\n  if((quarterDiff -i) > 4){\n   \t\t\tvalues[i] = {\"label\":currentDate.format(\"MMMM DD, YYYY\") + ' - June 30, ' +(endYear - 1),\"value\": currentDate.format(\"YYYY-MM-DD\")}\n    }else{\n        values[i] = {\"label\":currentDate.format(\"MMMM DD, YYYY\") + ' - ' +endDate.format(\"MMMM DD, YYYY\"),\"value\" : currentDate.format(\"YYYY-MM-DD\")}\n    }\n    currentDate.add(3,'months')\n}"
				},
				"selectThreshold": 0.3,
				"clearOnHide": false,
				"validate": {
					"required": true
				},
				"key": "start_date_range",
				"type": "select",
				"indexeddb": {
					"filter": {}
				},
				"input": true,
				"lockKey": true
			}, {
				"clearOnHide": false,
				"key": "page3PanelWell7",
				"input": false,
				"components": [{
					"label": "Columns",
					"input": false,
					"tableView": false,
					"key": "page3Columns",
					"columns": [{
						"components": [{
							"label": "Excess Liability Coverage",
							"widget": "choicesjs",
							"description": "Excess Limits of $3,000,000 ,$4,000,000 and $9,000,000 will need to be approved by underwriting",
							"tableView": true,
							"dataSrc": "custom",
							"data": {
								"values": [{
									"value": "",
									"label": ""
								}],
								"custom": "if(data['endorsementExcessLiability']){\n    for(var key in data['endorsementExcessLiability']){\n      var item = {}\n      item.label = data['endorsementExcessLiability'][key];\n      item.value = key;\n      values.push(item);\n    }\n  }"
							},
							"valueProperty": "value",
							"refreshOn": "endorsement_options",
							"selectThreshold": 0.3,
							"clearOnHide": false,
							"validate": {
								"required": true,
								"customMessage": "Please select the Excess Liability"
							},
							"key": "excessLiability",
							"properties": {
								"target": "excessLiabilityPrice"
							},
							"type": "select",
							"indexeddb": {
								"filter": {}
							},
							"input": true,
							"lockKey": true,
							"hideOnChildrenHidden": false
						}],
						"width": 8,
						"offset": 0,
						"push": 0,
						"pull": 0,
						"size": "md"
					}, {
						"components": [{
							"label": "Excess Liability Price",
							"placeholder": "0",
							"prefix": "$",
							"customClass": "textRight",
							"hideLabel": true,
							"mask": false,
							"spellcheck": true,
							"disabled": true,
							"tableView": true,
							"delimiter": false,
							"requireDecimal": false,
							"inputFormat": "plain",
							"redrawOn": "excessLiabilityPrice",
							"clearOnHide": false,
							"customDefaultValue": "value=0.00",
							"calculateValue": "var previousPolicyData = data.previous_policy_data;\nif(previousPolicyData && previousPolicyData.length >= 0){\n  var currentPolicy = previousPolicyData[0];\n  var liabilityPrice = currentPolicy.previous_excessLiability;\n  var difference = (parseFloat(data[data['excessLiability']]) - parseFloat(data[liabilityPrice]))\nvalue = difference.toFixed(0);\n}",
							"key": "excessLiabilityPricePayable",
							"type": "number",
							"input": true,
							"inputType": "number",
							"lockKey": true,
							"hideOnChildrenHidden": false
						}, {
							"label": "excessLiabilityPrice",
							"key": "excessLiabilityPrice",
							"type": "hidden",
							"input": true,
							"tableView": false,
							"hideOnChildrenHidden": false
						}, {
							"label": "single_limit",
							"defaultValue": "$1,000,000",
							"calculateValue": "var singleLimit = 1000000\nif(data.excessLiability == \"excessLiabilityCoverage1000000\"){\n  singleLimit +=1000000; \n}\nif(data.excessLiability == \"excessLiabilityCoverage2000000\"){\n  singleLimit +=2000000; \n}\nif(data.excessLiability == \"excessLiabilityCoverage3000000\"){\n  singleLimit +=3000000; \n}\nif(data.excessLiability == \"excessLiabilityCoverage4000000\"){\n  singleLimit +=4000000; \n}\nif(data.excessLiability == \"excessLiabilityCoverage9000000\"){\n  singleLimit +=9000000; \n}\nvalue = singleLimit",
							"key": "single_limit",
							"type": "hidden",
							"input": true,
							"tableView": true,
							"lockKey": true,
							"hideOnChildrenHidden": false
						}, {
							"label": "annual_aggregate",
							"defaultValue": "$2,000,000",
							"calculateValue": "value = parseFloat(data.single_limit) + 1000000",
							"key": "annual_aggregate",
							"type": "hidden",
							"input": true,
							"tableView": true,
							"lockKey": true,
							"hideOnChildrenHidden": false
						}],
						"width": 4,
						"offset": 0,
						"push": 0,
						"pull": 0,
						"size": "md"
					}],
					"type": "columns",
					"hideLabel": true,
					"path": "page3Columns"
				}],
				"tableView": false,
				"type": "well",
				"hideLabel": true,
				"label": "",
				"path": "page3PanelWell7"
			}, {
				"label": "fieldsPanel",
				"tableView": false,
				"key": "fieldsPanel",
				"type": "well",
				"input": false,
				"components": [{
					"label": "Columns",
					"columns": [{
						"components": [],
						"width": 3,
						"offset": 0,
						"push": 0,
						"pull": 0,
						"size": "md"
					}, {
						"components": [{
							"label": "Columns",
							"input": false,
							"tableView": false,
							"key": "pageNaNPanelColumns2Columns",
							"columns": [{
								"components": [{
									"key": "pageNaNPanelColumns2ColumnsContent",
									"label": "Content",
									"input": false,
									"tag": "h4",
									"attrs": [{
										"value": "text-align:right",
										"attr": "style"
									}],
									"content": "Grand total",
									"type": "htmlelement",
									"hideLabel": true,
									"hideOnChildrenHidden": false,
									"tableView": false
								}],
								"width": 4,
								"offset": 0,
								"push": 0,
								"pull": 0,
								"size": "md"
							}, {
								"components": [{
									"label": "Current Total",
									"placeholder": "0",
									"prefix": "$",
									"hideLabel": true,
									"mask": false,
									"spellcheck": true,
									"disabled": true,
									"tableView": true,
									"delimiter": true,
									"requireDecimal": false,
									"inputFormat": "plain",
									"calculateValue": "value = parseFloat((data['excessLiabilityPricePayable'])||0);",
									"key": "endorAmount",
									"type": "number",
									"input": true,
									"inputType": "number",
									"lockKey": true,
									"hideOnChildrenHidden": false
								}],
								"width": 8,
								"offset": 0,
								"push": 0,
								"pull": 0,
								"size": "md"
							}],
							"type": "columns",
							"hideLabel": true
						}, {
							"label": "Columns",
							"columns": [{
								"components": [{
									"label": "Content",
									"tag": "h4",
									"attrs": [{
										"value": "text-align:right",
										"attr": "style"
									}],
									"content": "Balance Amount to be paid",
									"refreshOnChange": false,
									"tableView": false,
									"key": "pageNaNPanelColumns2ColumnsContent1",
									"type": "htmlelement",
									"input": false,
									"hideLabel": true,
									"hideOnChildrenHidden": false
								}],
								"width": 4,
								"offset": 0,
								"push": 0,
								"pull": 0,
								"size": "md"
							}, {
								"components": [{
									"label": "Balance",
									"prefix": "$",
									"customClass": "textRight",
									"hideLabel": true,
									"mask": false,
									"spellcheck": true,
									"disabled": true,
									"tableView": true,
									"defaultValue": 0,
									"delimiter": false,
									"requireDecimal": false,
									"inputFormat": "plain",
									"redrawOn": "data",
									"clearOnHide": false,
									"calculateValue": "if(data.csrGrandTotal && parseFloat(data.csrGrandTotal) != 0){\n    var total = parseFloat(data.csrGrandTotal) - parseFloat(data.userGrandTotal);\n    if(parseFloat(total) > 0){\n      value = total;\n    }else{\n      value = 0;\n    }\n}else{\n  value = 0;\n}",
									"key": "balanceEndor",
									"type": "number",
									"input": true,
									"hideOnChildrenHidden": false,
									"inputType": "number"
								}],
								"width": 8,
								"offset": 0,
								"push": 0,
								"pull": 0,
								"size": "md"
							}],
							"hideLabel": true,
							"tableView": false,
							"key": "pageNaNPanelColumns2Columns1",
							"customConditional": "show = data.CSRReviewRequired;",
							"type": "columns",
							"input": false
						}, {
							"label": "userGrandTotal",
							"calculateValue": "if(!data.CSRReviewRequired){\n  value = data.endorAmount;\n}",
							"key": "userGrandTotal",
							"type": "hidden",
							"input": true,
							"tableView": false,
							"hideOnChildrenHidden": false
						}, {
							"label": "csrGrandTotal",
							"calculateValue": "if(data.CSRReviewRequired){\n  value = data.endorAmount;\n}",
							"key": "csrGrandTotal",
							"type": "hidden",
							"input": true,
							"tableView": false,
							"hideOnChildrenHidden": false
						}],
						"width": 9,
						"offset": 0,
						"push": 0,
						"pull": 0,
						"size": "md"
					}],
					"hideLabel": true,
					"tableView": false,
					"key": "pageNaNPanelColumns2",
					"type": "columns",
					"input": false,
					"path": "pageNaNPanelColumns2"
				}]
			}, {
				"title": "Policy Holder Attachments",
				"theme": "primary",
				"breadcrumbClickable": false,
				"buttonSettings": {
					"previous": true,
					"cancel": true,
					"next": true
				},
				"collapsible": false,
				"tableView": true,
				"key": "techrecPanel",
				"customConditional": "if (data.privileges){\n    if(data.attachments && data.attachments.length > 0){\n      show = true;\n    } else{\n      show = false;\n    }\n} else {\n  show = false;\n}",
				"type": "panel",
				"label": "Policy Holder Attachments",
				"input": false,
				"components": [{
					"type": "documentviewer",
					"key": "attachments1",
					"calculateValue": "value = (data['attachments'])",
					"dtype": "documentviewer",
					"customConditional": "show = (data.attachments !='');",
					"datype": "documentviewer",
					"dattype": "documentviewer",
					"datatype": "documentviewer",
					"data_type": "documentviewer",
					"label": "Policy Holder Attachments",
					"hideLabel": true,
					"inputType": "documentviewer",
					"input": 1,
					"tableView": false,
					"protected": true,
					"persistent": false
				}],
				"path": "techrecPanel"
			}, {
				"title": "Attachments",
				"theme": "primary",
				"breadcrumbClickable": true,
				"buttonSettings": {
					"previous": true,
					"cancel": true,
					"next": true
				},
				"collapsible": false,
				"tableView": false,
				"key": "panel2",
				"customConditional": "if (data.CSRReviewRequired === \"\" || data.CSRReviewRequired === false || data.CSRReviewRequired == 'false'){\n show = true;\n} else {\n  show = false;\n}",
				"type": "panel",
				"label": "Attachments",
				"input": false,
				"components": [{
					"label": "Attachments",
					"hideLabel": true,
					"tableView": true,
					"storage": "url",
					"webcam": true,
					"fileTypes": [{
						"label": "",
						"value": ""
					}],
					"filePattern": ".pdf,.png,.jpeg,.jpg,.gif,.doc,.docx,.xlsx,.xls",
					"fileMaxSize": "10MB",
					"multiple": true,
					"calculateValue": "if((data.endor_attachments || data.endor_attachments !== undefined) && data.endor_attachments.length >= 10 ){\n  component.multiple = false\n} else {\n  component.multiple = true\n}",
					"validate": {
						"multiple": true
					},
					"key": "endor_attachments",
					"type": "file",
					"url": "/file/attachment",
					"input": true
				}],
				"path": "panel2"
			}, {
				"title": "Attachments",
				"theme": "primary",
				"breadcrumbClickable": false,
				"buttonSettings": {
					"previous": true,
					"cancel": false,
					"next": true
				},
				"collapsible": false,
				"tableView": false,
				"key": "attachmentsCsrEndor",
				"customConditional": "if ((data.CSRReviewRequired == \"\" || data.CSRReviewRequired ==false || data.CSRReviewRequired == 'false')){\n show = false;\n}\nelse{\n  show = true;\n}",
				"type": "panel",
				"label": "Attachments",
				"input": false,
				"components": [{
					"label": "Attachments",
					"hideLabel": true,
					"tableView": true,
					"storage": "url",
					"webcam": true,
					"fileTypes": [{
						"label": "",
						"value": ""
					}],
					"filePattern": ".pdf,.png,.jpeg,.jpg,.gif,.doc,.docx,.xlsx,.xls",
					"fileMaxSize": "10MB",
					"multiple": true,
					"clearOnHide": false,
					"calculateValue": "if((data.csrEndor_attachments || data.csrEndor_attachments !== undefined) && data.csrEndor_attachments.length >= 10 ){\n  component.multiple = false\n} else {\n  component.multiple = true\n}",
					"validate": {
						"multiple": true
					},
					"key": "csr_attachments",
					"type": "file",
					"url": "/file/attachment",
					"input": true
				}],
				"path": "attachmentsCsrEndor"
			}],
			"type": "panel",
			"label": "Panel",
			"path": "pageNaNPanel"
		}],
		"input": false,
		"path": "pageNaN"
	}, {
		"title": "Additional Insured",
		"theme": "primary",
		"breadcrumbClickable": true,
		"buttonSettings": {
			"previous": true,
			"cancel": true,
			"next": true
		},
		"collapsible": false,
		"tableView": false,
		"key": "additionalInsuredPanel",
		"conditional": {
			"show": true,
			"when": "endorsement_options",
			"eq": "modify_additionalInsured"
		},
		"type": "panel",
		"label": "Additional Insured",
		"components": [{
			"label": "AdditionalInsureds",
			"attrs": [{
				"value": "",
				"attr": ""
			}],
			"content": "<ol>\n<li>Additional Insureds are only added if required by written contract.</li>\n<li>No charge for Additional Insureds, however, all must be listed.</li>\n<li>Entities other than those mentioned, when listed, will be reviewed by the insurance carrier; inclusion on your Certificate of Insurance will indicate that coverage is in effect.</li>\n<li>List business relationship versus personal relationship; eg., \"Bob Smith, property owner\" not \"Bob Smith, father\".</li>\n<li>Other Instructors and assistants may not be Additional Insureds but must obtain their own insurance.</li>",
			"refreshOnChange": false,
			"tableView": false,
			"key": "page4PanelAdditionalInsureds",
			"type": "htmlelement",
			"input": false,
			"hideLabel": true
		}, {
			"clearOnHide": false,
			"key": "page4PanelWell",
			"input": false,
			"components": [{
				"label": "Please select if you would like to Add Additional Insured",
				"optionsLabelPosition": "right",
				"inline": false,
				"tableView": false,
				"defaultValue": "noAdditionalInsureds",
				"values": [{
					"value": "addAdditionalInsureds",
					"label": "Update Additional Insureds",
					"shortcut": ""
				}, {
					"value": "noAdditionalInsureds",
					"label": "No Additional Insureds",
					"shortcut": ""
				}],
				"clearOnHide": false,
				"validate": {
					"required": true
				},
				"key": "AdditionalInsuredOption",
				"type": "radio",
				"input": true,
				"lockKey": true
			}],
			"tableView": false,
			"type": "well",
			"hideLabel": true,
			"label": ""
		}, {
			"title": "Information for each Additional Insured is required as follows",
			"theme": "primary",
			"breadcrumbClickable": true,
			"buttonSettings": {
				"previous": true,
				"cancel": true,
				"next": true
			},
			"collapsible": false,
			"tableView": false,
			"key": "page4PanelPanel",
			"conditional": {
				"show": true,
				"when": "AdditionalInsuredOption",
				"eq": "addAdditionalInsureds"
			},
			"type": "panel",
			"label": "Information for each Additional Insured is required as follows",
			"input": false,
			"components": [{
				"label": "Additional Insured",
				"reorder": false,
				"addAnotherPosition": "bottom",
				"defaultOpen": false,
				"layoutFixed": false,
				"enableRowGroups": false,
				"hideLabel": true,
				"tableView": true,
				"defaultValue": [{
					"name": "",
					"address": "",
					"city": "",
					"country": "",
					"state": {},
					"zip": "",
					"businessRelation": "",
					"businessRelationOther": "",
					"additionalInformation": ""
				}],
				"clearOnHide": false,
				"validate": {
					"required": true,
					"minLength": 1
				},
				"key": "additionalInsured",
				"type": "datagrid",
				"input": true,
				"components": [{
					"clearOnHide": false,
					"key": "page4PanelPanelWell",
					"input": false,
					"components": [{
						"label": "Columns",
						"input": false,
						"tableView": false,
						"key": "page4PanelInformationforeachAdditionalInsuredisrequiredasfollowsColumns",
						"columns": [{
							"components": [{
								"label": "Name",
								"tableView": true,
								"clearOnHide": false,
								"validate": {
									"customMessage": "Please enter the Name of the Additional Insured"
								},
								"errorLabel": "Additional Insured Name",
								"key": "name",
								"type": "textfield",
								"input": true,
								"lockKey": true,
								"hideOnChildrenHidden": false
							}],
							"width": 4,
							"offset": 0,
							"push": 0,
							"pull": 0,
							"size": "md"
						}, {
							"components": [{
								"label": "Address",
								"tableView": true,
								"clearOnHide": false,
								"validate": {
									"customMessage": "Please enter the Address of the Additional Insured"
								},
								"errorLabel": "Additional Insured Address",
								"key": "address",
								"type": "textfield",
								"input": true,
								"hideOnChildrenHidden": false
							}],
							"width": 4,
							"offset": 0,
							"push": 0,
							"pull": 0,
							"size": "md"
						}, {
							"components": [{
								"label": "City",
								"tableView": true,
								"clearOnHide": false,
								"validate": {
									"customMessage": "Please enter the City of the Additional Insured"
								},
								"errorLabel": "Additional Insured City",
								"key": "city",
								"type": "textfield",
								"input": true,
								"hideOnChildrenHidden": false
							}],
							"width": 4,
							"offset": 0,
							"push": 0,
							"pull": 0,
							"size": "md"
						}],
						"type": "columns",
						"inDataGrid": true,
						"hideLabel": true
					}, {
						"label": "Columns",
						"columns": [{
							"components": [{
								"label": "Country",
								"widget": "choicesjs",
								"tableView": true,
								"dataSrc": "custom",
								"data": {
									"values": [{
										"value": "",
										"label": ""
									}],
									"custom": "values = data['countryList'];"
								},
								"valueProperty": "country",
								"template": "<span>{{ item.country }}</span>",
								"selectThreshold": 0.3,
								"clearOnHide": false,
								"validate": {
									"customMessage": "Please select the Country of the Additional Insured"
								},
								"errorLabel": "Additional Insured Country",
								"key": "country",
								"properties": {
									"clear_field": "state"
								},
								"type": "select",
								"indexeddb": {
									"filter": {}
								},
								"input": true,
								"lockKey": true,
								"source": "5d347da33e9be31e15d3b115",
								"hideOnChildrenHidden": false
							}],
							"width": 4,
							"offset": 0,
							"push": 0,
							"pull": 0,
							"size": "md"
						}, {
							"components": [{
								"label": "State",
								"widget": "choicesjs",
								"tableView": true,
								"dataSrc": "custom",
								"data": {
									"values": [{
										"label": "",
										"value": ""
									}],
									"custom": "try {\n  countrylist = JSON.parse(data['countryList']);\n} catch(e) {\n  countrylist = data['countryList'];\n}\nif(countrylist){\n  let obj = countrylist.find(o => o.country === row.country);\n  if(obj){\n    values = obj.states\n  }\n}"
								},
								"template": "<span>{{ item }}</span>",
								"refreshOn": "row.country",
								"clearOnRefresh": true,
								"selectThreshold": 0.3,
								"clearOnHide": false,
								"validate": {
									"customMessage": "Please select the State of the Additional Insured"
								},
								"errorLabel": "Additional Insured State",
								"key": "state",
								"customConditional": "show = (row.country)",
								"type": "select",
								"indexeddb": {
									"filter": {}
								},
								"input": true,
								"lockKey": true,
								"hideOnChildrenHidden": false
							}],
							"width": 4,
							"offset": 0,
							"push": 0,
							"pull": 0,
							"size": "md"
						}, {
							"components": [{
								"label": "Zip Code",
								"spellcheck": false,
								"tableView": true,
								"clearOnHide": false,
								"validate": {
									"customMessage": "Please enter the Zip Code of the Additional Insured",
									"custom": "if(row.zip && row.zip != ''){\n  if(row.zip.length <= 12){\n      valid = (row.zip.match(/^[0-9\\s-]*$/)) ?  true : 'Please enter a valid Zip Code for your region.';\n  }else{\n    valid = (row.zip.length > 12) ? 'Please enter a valid Zip Code for your region.' : true;\n  }\n}"
								},
								"errorLabel": "Additional Insured Zip Code",
								"key": "zip",
								"type": "textfield",
								"input": true,
								"lockKey": true,
								"hideOnChildrenHidden": false
							}],
							"width": 4,
							"offset": 0,
							"push": 0,
							"pull": 0,
							"size": "md"
						}],
						"hideLabel": true,
						"tableView": false,
						"key": "additionalInsuredPanelColumns2",
						"type": "columns",
						"input": false
					}, {
						"label": "Columns",
						"columns": [{
							"components": [{
								"label": "Business Relation",
								"widget": "choicesjs",
								"tableView": false,
								"data": {
									"values": [{
										"value": "confinedWaterTrainingLocation",
										"label": "Confined Water Training Location"
									}, {
										"value": "openWaterTrainingLocation",
										"label": " Open Water Training Location"
									}, {
										"label": "Dive Boat Owner",
										"value": "diveBoatOwner"
									}, {
										"label": "Mortgagee / Loss Payee",
										"value": "mortgageeLossPayee"
									}, {
										"label": "Landlord",
										"value": "landlord"
									}, {
										"label": " Government Entity â€“ Permit Requirement",
										"value": "governmentEntityPermitRequirement"
									}, {
										"label": "Dive Store",
										"value": "diveStore"
									}, {
										"label": "Training Agency",
										"value": "trainingAgency"
									}, {
										"value": "other",
										"label": "Other"
									}]
								},
								"selectThreshold": 0.3,
								"validate": {
									"customMessage": "Please select the Business Relation with the Additional Insured"
								},
								"errorLabel": "Additional Insured Business Relation",
								"key": "businessRelation",
								"type": "select",
								"indexeddb": {
									"filter": {}
								},
								"input": true,
								"lockKey": true,
								"hideOnChildrenHidden": false
							}, {
								"label": "Provide description to be reviewed by underwriting",
								"tableView": true,
								"clearOnHide": false,
								"validate": {
									"customMessage": "Please specify the Business Relation"
								},
								"errorLabel": "Additonal Insured Business Relation Details",
								"key": "businessRelationOther",
								"conditional": {
									"show": true,
									"when": "businessRelation",
									"eq": "other"
								},
								"type": "textfield",
								"input": true,
								"style": {
									"margin-top": "4px"
								},
								"lockKey": true,
								"hideOnChildrenHidden": false
							}],
							"width": 6,
							"offset": 0,
							"push": 0,
							"pull": 0,
							"size": "md"
						}, {
							"components": [{
								"label": "Additional Information",
								"autoExpand": false,
								"tableView": true,
								"inputFormat": "plain",
								"clearOnHide": false,
								"validate": {
									"customMessage": "Please enter Additional Information about the Additional Insured"
								},
								"errorLabel": "Additional Insured Additional Information",
								"key": "additionalInformation",
								"type": "textarea",
								"input": true,
								"hideOnChildrenHidden": false
							}],
							"width": 6,
							"offset": 0,
							"push": 0,
							"pull": 0,
							"size": "md"
						}],
						"tableView": false,
						"key": "columns2",
						"type": "columns",
						"input": false
					}, {
						"label": "Do you have a Written Contract?",
						"optionsLabelPosition": "right",
						"inline": false,
						"tableView": false,
						"values": [{
							"label": "Yes",
							"value": "yes",
							"shortcut": ""
						}, {
							"label": "No",
							"value": "no",
							"shortcut": ""
						}],
						"validate": {
							"required": true
						},
						"key": "doYouHaveAWrittenContract",
						"type": "radio",
						"input": true
					}, {
						"label": "Content",
						"attrs": [{
							"value": "text-align: center;background-color: #a94442;color: white;border-radius: 10px;line-height: 30px;",
							"attr": "style"
						}],
						"content": "Additional Insureds can only be added when required by written contract",
						"refreshOnChange": false,
						"tableView": false,
						"key": "panelColumnsContent5",
						"customConditional": "show = (row['doYouHaveAWrittenContract']=='no')?true:false",
						"type": "htmlelement",
						"input": false,
						"hideLabel": true,
						"hideOnChildrenHidden": false
					}, {
						"label": "Additional Insured Attachments",
						"tableView": false,
						"storage": "url",
						"webcam": false,
						"fileTypes": [{
							"label": "",
							"value": ""
						}],
						"multiple": true,
						"clearOnHide": false,
						"validate": {
							"multiple": true
						},
						"key": "additionalInsuredAttachments",
						"type": "file",
						"url": "/file/attachment",
						"input": true
					}, {
						"type": "documentviewer",
						"key": "additionalInsuredAttachments1",
						"calculateValue": "try{\n  value = JSON.parse(row.additionalInsuredAttachments)\n} catch(e){\n  value = row.additionalInsuredAttachments\n}",
						"dtype": "documentviewer",
						"datype": "documentviewer",
						"dattype": "documentviewer",
						"customConditional": "if(row.additionalInsuredAttachments && row.additionalInsuredAttachments.length > 0 && (data.CSRReviewRequired == \"\" || data.CSRReviewRequired ==true || data.CSRReviewRequired == 'true')){show = true;} else {show = false;}",
						"datatype": "documentviewer",
						"data_type": "documentviewer",
						"label": "Additional Insured Attachments",
						"hideLabel": true,
						"inputType": "documentviewer",
						"input": 1,
						"tableView": false,
						"protected": true,
						"persistent": false
					}],
					"tableView": false,
					"type": "well",
					"inDataGrid": true,
					"hideLabel": true,
					"label": ""
				}],
				"lockKey": true
			}]
		}],
		"input": false
	}, {
		"title": "Payment",
		"theme": "primary",
		"collapsible": false,
		"tableView": true,
		"key": "page6",
		"properties": {
			"payment_confirmation_page": "true"
		},
		"type": "panel",
		"label": "Payment",
		"buttonSettings": {
			"previous": true,
			"cancel": true,
			"next": true
		},
		"components": [{
			"label": "amountPayable",
			"calculateValue": "if(data.CSRReviewRequired){\n  if(parseFloat(data.balanceEndor) > 0){\n    value = data.balanceEndor;\n  }else{\n    value = 0;\n  }\n}else{\n  value = (parseFloat(data.endorAmount) || 0).toFixed(0);\n}",
			"key": "endorAmountPayable",
			"type": "hidden",
			"input": true,
			"tableView": true
		}, {
			"input": true,
			"tableView": true,
			"key": "transaction_id",
			"label": "transaction_id",
			"type": "hidden",
			"lockKey": true
		}, {
			"input": true,
			"tableView": true,
			"key": "transaction_status",
			"label": "transaction_status",
			"type": "hidden",
			"lockKey": true
		}, {
			"label": "transaction_reference_number",
			"key": "transaction_reference_number",
			"type": "hidden",
			"input": true,
			"tableView": false
		}, {
			"label": "payment_fields",
			"calculateValue": "value = JSON.stringify({\"description\":data.padi,\"product\":data.product,\"state\":data.state,\"automatic_renewal\":data.automatic_renewal,\"installment_billing\":\"Not Applicable\",\"policy_type\":\"Endorsement\",\"installment_amount\":0,\"downpayment_amount\":0,\"total_amount\":data.amount});",
			"key": "payment_fields",
			"type": "hidden",
			"input": true,
			"tableView": false
		}, {
			"label": "Columns",
			"columns": [{
				"components": [{
					"label": "Payment Options",
					"optionsLabelPosition": "right",
					"inline": false,
					"tableView": false,
					"values": [{
						"label": "Money Order",
						"value": "moneyOrder",
						"shortcut": ""
					}, {
						"label": "Check",
						"value": "check",
						"shortcut": ""
					}, {
						"label": "Credit Card",
						"value": "creditCard",
						"shortcut": ""
					}, {
						"label": "Other",
						"value": "other",
						"shortcut": ""
					}],
					"clearOnHide": false,
					"validate": {
						"required": true
					},
					"key": "paymentOptions",
					"properties": {
						"render": "columns"
					},
					"type": "radio",
					"input": true,
					"hideOnChildrenHidden": false
				}],
				"width": 6,
				"offset": 0,
				"push": 0,
				"pull": 0,
				"size": "md"
			}, {
				"components": [{
					"title": "Check Details",
					"theme": "primary",
					"collapsible": false,
					"tableView": false,
					"key": "checkDetails",
					"conditional": {
						"show": true,
						"when": "paymentOptions",
						"eq": "check"
					},
					"type": "panel",
					"label": "Check Details",
					"input": false,
					"components": [{
						"label": "Check Number",
						"mask": false,
						"spellcheck": true,
						"tableView": false,
						"delimiter": false,
						"requireDecimal": false,
						"inputFormat": "plain",
						"clearOnHide": false,
						"key": "chequeNumber",
						"type": "number",
						"input": true,
						"hideOnChildrenHidden": false
					}, {
						"label": "HTML",
						"attrs": [{
							"attr": "",
							"value": ""
						}],
						"content": "Please Submit the Consent form found <a target=\"_blank\" href=\"https://diveinsurance.eoxvantage.com/apps/DiveInsurance/public/docs/CheckConsentform.pdf\" >here</a> back to us",
						"refreshOnChange": false,
						"tableView": false,
						"key": "html5",
						"type": "htmlelement",
						"input": false
					}, {
						"label": "Upload Consent Form",
						"tableView": false,
						"storage": "url",
						"webcam": true,
						"fileTypes": [{
							"label": "",
							"value": ""
						}],
						"clearOnHide": false,
						"key": "chequeConsentFile",
						"type": "file",
						"input": true,
						"url": "/file/attachment"
					}],
					"hideOnChildrenHidden": false
				}, {
					"title": "Card Details",
					"theme": "primary",
					"collapsible": false,
					"tableView": false,
					"key": "cardDetails",
					"conditional": {
						"show": true,
						"when": "paymentOptions",
						"eq": "creditCard"
					},
					"type": "panel",
					"label": "Card Details",
					"input": false,
					"components": [{
						"label": "Transaction Reference Number",
						"spellcheck": false,
						"disabled": true,
						"tableView": false,
						"clearOnHide": false,
						"calculateValue": "value = data.transaction_reference_number",
						"key": "transactionReferenceNumber",
						"customConditional": "if (data.privileges){\n  show = (data.privileges['MANAGE_POLICY_APPROVAL_WRITE'] !== null && data.privileges['MANAGE_POLICY_APPROVAL_WRITE']) ? true: false;\n}\nelse{\n  show = false;\n}",
						"type": "textfield",
						"input": true
					}, {
						"type": "convergepay",
						"key": "creditcardPayment",
						"amount_field": "endorAmountPayable",
						"description": "payment_fields",
						"label": "custom",
						"input": true,
						"tableView": false,
						"hideOnChildrenHidden": false
					}, {
						"label": "Content",
						"attrs": [{
							"value": "",
							"attr": ""
						}],
						"content": "</br><b><font color=\"red\">If you click \"Confirm Order\", your credit card will be charged for the amount shown above.</b></font>",
						"refreshOnChange": false,
						"tableView": false,
						"key": "page7Content",
						"conditional": {
							"show": true,
							"when": "paymentOptions",
							"eq": "creditCard"
						},
						"type": "htmlelement",
						"input": false,
						"hideLabel": true,
						"hideOnChildrenHidden": false
					}],
					"hideOnChildrenHidden": false
				}, {
					"title": "Money Order Details",
					"theme": "primary",
					"collapsible": false,
					"tableView": false,
					"key": "moneyOrderDetai",
					"conditional": {
						"show": true,
						"when": "paymentOptions",
						"eq": "moneyOrder"
					},
					"type": "panel",
					"label": "Money Order Details",
					"input": false,
					"hideOnChildrenHidden": false,
					"components": [{
						"label": "Order ID",
						"tableView": true,
						"clearOnHide": false,
						"key": "orderId",
						"type": "textfield",
						"input": true,
						"hideOnChildrenHidden": false
					}]
				}],
				"width": 6,
				"offset": 0,
				"push": 0,
				"pull": 0,
				"size": "md"
			}],
			"tableView": false,
			"key": "columns",
			"properties": {
				"payment_confirmation_page": "true"
			},
			"type": "columns",
			"input": false,
			"keyModified": true
		}],
		"input": false,
		"breadcrumbClickable": true,
		"path": "page6",
		"breadcrumb": "none",
		"customConditional": "if(parseFloat(data.endorAmount) > 0){\n  show = true;\n} else {\n  show = false;\n}"
	}, {
		"input": false,
		"label": "Approval",
		"tableView": false,
		"key": "csrapprovalscreen",
		"type": "panel",
		"size": "md",
		"block": false,
		"action": "submit",
		"disableOnInvalid": false,
		"theme": "primary",
		"dataGridLabel": true,
		"title": "Approval",
		"components": [{
			"label": "Please process the payment and approve",
			"attrs": [{
				"attr": "",
				"value": ""
			}],
			"content": "<h4>Please process the payment of <b>${{data.balanceEndor}}</b> and approve</h4>",
			"refreshOnChange": false,
			"tableView": false,
			"key": "page6Pleaseprocessthepaymentandapprove",
			"customConditional": "show = (parseFloat(data.balanceEndor) > 0);",
			"type": "htmlelement",
			"input": false
		}, {
			"title": "Approve/Reject the Application",
			"theme": "primary",
			"breadcrumbClickable": false,
			"buttonSettings": {
				"previous": true,
				"cancel": true,
				"next": true
			},
			"collapsible": false,
			"tableView": false,
			"key": "page77Panel",
			"type": "panel",
			"label": "Approve/Reject the Application",
			"input": false,
			"components": [{
				"label": "Approve/Reject the Application",
				"optionsLabelPosition": "top",
				"inline": true,
				"hideLabel": true,
				"autofocus": true,
				"tableView": true,
				"values": [{
					"label": "Approved",
					"value": "approved",
					"shortcut": ""
				}, {
					"label": "Rejected",
					"value": "rejected",
					"shortcut": ""
				}, {
					"label": "On Hold",
					"value": "onHold",
					"shortcut": ""
				}],
				"validate": {
					"required": true,
					"customMessage": "Please Approve/Reject the Application"
				},
				"key": "approved",
				"type": "radio",
				"input": true
			}],
			"path": "page77Panel"
		}, {
			"label": "Rejection Reason",
			"reorder": false,
			"addAnother": "Add More",
			"addAnotherPosition": "bottom",
			"defaultOpen": false,
			"layoutFixed": false,
			"enableRowGroups": false,
			"hideLabel": true,
			"tableView": true,
			"defaultValue": [{
				"reason": ""
			}],
			"clearOnHide": false,
			"validate": {
				"minLength": 1
			},
			"key": "rejectionReason",
			"conditional": {
				"show": true,
				"when": "approved",
				"eq": "rejected"
			},
			"customConditional": "show = (data.approved == \"rejected\" || data.approved == \"onHold\")",
			"type": "datagrid",
			"input": true,
			"components": [{
				"label": "",
				"tableView": true,
				"key": "rejectionReasonssswell",
				"type": "well",
				"input": false,
				"components": [{
					"label": "Reason for Rejection / On Hold",
					"spellcheck": false,
					"tableView": false,
					"case": "mixed",
					"clearOnHide": false,
					"validate": {
						"required": true,
						"customMessage": "Rejection reason is required"
					},
					"key": "reason",
					"type": "textfield",
					"input": true,
					"hideOnChildrenHidden": false
				}]
			}]
		}, {
			"label": "Additional Notes",
			"tableView": true,
			"key": "additionalNotes",
			"conditional": {
				"show": true,
				"when": "approved",
				"eq": "approved"
			},
			"type": "textfield",
			"input": true
		}],
		"breadcrumbClickable": false,
		"buttonSettings": {
			"previous": true,
			"cancel": false,
			"next": true
		},
		"collapsible": false,
		"path": "csrapprovalscreen",
		"customConditional": "if (data.privileges){\n  show = (data.privileges['MANAGE_POLICY_APPROVAL_WRITE'] !== null && data.privileges['MANAGE_POLICY_APPROVAL_WRITE']) ? true: false;\n}\nelse{\n  show = false;\n}"
	}],
	"revisions": "current",
	"_vid": 206,
	"title": "EFR - Endorsement",
	"display": "wizard",
	"access": [{
		"roles": ["5ce43aa430776b950569301d", "5ce43aa430776b4a5969301e", "5ce43aa430776bdfb569301f"],
		"type": "read_all"
	}],
	"submissionAccess": [],
	"settings": {},
	"properties": {
		"commands": "[{\"command\" : \"delegate\" ,\"delegate\" : \"SetupEndorsement\"}]",
		"submission_commands": "[{\"command\" : \"delegate\", \"delegate\" : \"CleanUpDelegate\"},{\"command\" : \"delegate\", \"delegate\":\"ProcessEndorsementAttachments\"},{\"command\" : \"submitWorkflow\"}]",
		"showCancel": "true",
		"clickable": "false",
		"showNext": "true",
		"showPrevious": "true"
	},
	"name": "efrEndorsement",
	"path": "efrendorsement",
	"project": "5ce43aa430776b2aff69301c",
	"created": "2020-01-04T12:28:50.556Z",
	"modified": "2020-07-07T09:55:33.514Z",
	"machineName": "testdivehub:efrEndorsement",
	"controller": ""
}
